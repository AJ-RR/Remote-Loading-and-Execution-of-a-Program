MOV R0,#00h
MOV R1,#00h
MOV R2,#00h
MOV R3,#11h
MOV DPTR,#0070h
MOV A,#3Ah
MOVX @DPTR,A
INC DPTR
MOV A,R3
MOVX @DPTR,A
ADD A,R0
MOV R0,A
INC DPTR
MOV A,#80h
MOVX @DPTR,A
ADD A,R0
MOV R0,A
INC DPTR
MOV A,#00h
MOVX @DPTR,A
ADD A,R0
MOV R0,A
INC DPTR
MOV A,#00h
MOVX @DPTR,A
ADD A,R0
INC DPTR
PUSH DPL
PUSH DPH
MOV DPTR,#0050h
encode:
MOVX A,@DPTR
INC DPTR
POP 02
POP 01
PUSH DPL
PUSH DPH
MOV DPH,R2
MOV DPL,R1
MOVX @DPTR,A
INC DPTR
ADD A,R0
MOV R0,A
POP 02
POP 01
PUSH DPL
PUSH DPH
MOV DPH,R2
MOV DPL,R1
DEC R3
MOV A,R3
JNZ encode
POP 02
POP 01
MOV DPH,R2
MOV DPL,R1
MOV A,R0
CPL A
INC A
MOVX @DPTR,A
END